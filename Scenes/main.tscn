[gd_scene load_steps=32 format=3 uid="uid://dsq5j3i0m4dfk"]

[ext_resource type="PackedScene" uid="uid://bvqd1l4jpnjhi" path="res://Scenes/Player.tscn" id="1_cgk4e"]
[ext_resource type="Shader" path="res://Scripts/Shaders/sky.gdshader" id="1_ec7k2"]
[ext_resource type="Script" path="res://Scripts/main.gd" id="1_lv6qr"]
[ext_resource type="ArrayMesh" uid="uid://iku5a1nd4wl1" path="res://Models/Decorations/Comode.obj" id="2_nwttt"]
[ext_resource type="ArrayMesh" uid="uid://dtgg4a5brtio7" path="res://Models/Decorations/Lit de Sus.obj" id="2_r5ntx"]
[ext_resource type="Script" path="res://Scenes/TimeController.gd" id="2_u6pw3"]
[ext_resource type="PackedScene" uid="uid://2oyxhftnwn6m" path="res://Scenes/enemy.tscn" id="7_xp0p1"]

[sub_resource type="Gradient" id="Gradient_qiw63"]
colors = PackedColorArray(1, 1, 1, 1, 1, 1, 1, 1)

[sub_resource type="GradientTexture2D" id="GradientTexture2D_e4phb"]
gradient = SubResource("Gradient_qiw63")
width = 4
height = 4

[sub_resource type="Gradient" id="Gradient_6kf60"]
colors = PackedColorArray(0, 0, 0, 1, 1, 0, 0, 1)

[sub_resource type="FastNoiseLite" id="FastNoiseLite_t1t7n"]
seed = 4
frequency = 0.001

[sub_resource type="NoiseTexture2D" id="NoiseTexture2D_15vll"]
seamless = true
seamless_blend_skirt = 1.0
color_ramp = SubResource("Gradient_6kf60")
noise = SubResource("FastNoiseLite_t1t7n")

[sub_resource type="Gradient" id="Gradient_5a58d"]
offsets = PackedFloat32Array(0.218391, 1)

[sub_resource type="FastNoiseLite" id="FastNoiseLite_bc1h1"]
frequency = 0.029

[sub_resource type="NoiseTexture2D" id="NoiseTexture2D_jg7cp"]
seamless = true
color_ramp = SubResource("Gradient_5a58d")
noise = SubResource("FastNoiseLite_bc1h1")

[sub_resource type="Gradient" id="Gradient_1bk3x"]
colors = PackedColorArray(0.392157, 0.392157, 0.392157, 1, 1, 1, 1, 1)

[sub_resource type="FastNoiseLite" id="FastNoiseLite_fbhxv"]
noise_type = 3
frequency = 0.02

[sub_resource type="NoiseTexture2D" id="NoiseTexture2D_eyi65"]
seamless = true
color_ramp = SubResource("Gradient_1bk3x")
noise = SubResource("FastNoiseLite_fbhxv")

[sub_resource type="Gradient" id="Gradient_5yigx"]
offsets = PackedFloat32Array(0, 0.95977, 0.977012)
colors = PackedColorArray(0, 0, 0, 1, 0, 0, 0, 1, 1, 1, 1, 1)

[sub_resource type="FastNoiseLite" id="FastNoiseLite_caq7q"]
noise_type = 2
frequency = 0.934

[sub_resource type="NoiseTexture2D" id="NoiseTexture2D_yougn"]
seamless = true
color_ramp = SubResource("Gradient_5yigx")
noise = SubResource("FastNoiseLite_caq7q")

[sub_resource type="ShaderMaterial" id="ShaderMaterial_4x134"]
shader = ExtResource("1_ec7k2")
shader_parameter/day_bottom_color = Color(0.458824, 0.545098, 0.729412, 1)
shader_parameter/day_top_color = Color(0.521569, 0.764706, 0.839216, 1)
shader_parameter/sunset_bottom_color = Color(0.258824, 0.180392, 0.12549, 1)
shader_parameter/sunset_top_color = Color(0.105882, 0.105882, 0.176471, 1)
shader_parameter/night_bottom_color = Color(0, 0, 0, 1)
shader_parameter/night_top_color = Color(0, 0, 0, 1)
shader_parameter/horizon_color_day = Color(0.701961, 0.701961, 0.701961, 1)
shader_parameter/horizon_color_sunset = Color(0.619608, 0.172549, 0.172549, 1)
shader_parameter/horizon_color_night = Color(0.211765, 0.2, 0.341176, 1)
shader_parameter/horizon_falloff = 0.9
shader_parameter/sun_col = Color(1, 1, 1, 1)
shader_parameter/sun_size = 0.15
shader_parameter/sun_blur = 0.149
shader_parameter/moon_col = Color(1, 1, 1, 1)
shader_parameter/moon_size = 0.15
shader_parameter/moon_crescent_offset = -0.097
shader_parameter/clouds_main_color = Color(1, 1, 1, 1)
shader_parameter/clouds_edge_color = Color(0.392157, 0.643137, 0.8, 1)
shader_parameter/clouds_speed = 0.07
shader_parameter/clouds_scale = 0.15
shader_parameter/clouds_cutoff = 0.03
shader_parameter/clouds_fuzziness = 0.56
shader_parameter/stars_speed = 0.019
shader_parameter/clouds_texture = SubResource("NoiseTexture2D_eyi65")
shader_parameter/clouds_distort_texture = SubResource("NoiseTexture2D_15vll")
shader_parameter/clouds_noise_texture = SubResource("NoiseTexture2D_jg7cp")
shader_parameter/stars_texture = SubResource("NoiseTexture2D_yougn")

[sub_resource type="Sky" id="Sky_4eb7t"]
sky_material = SubResource("ShaderMaterial_4x134")

[sub_resource type="Environment" id="Environment_0va2h"]
background_mode = 2
sky = SubResource("Sky_4eb7t")
sdfgi_use_occlusion = true
sdfgi_y_scale = 2
sdfgi_energy = 10.0
fog_light_color = Color(0.486275, 0.521569, 0.576471, 1)
fog_light_energy = 0.0
fog_density = 0.0706
fog_sky_affect = 0.992

[sub_resource type="PhysicsMaterial" id="PhysicsMaterial_6670c"]
bounce = 1.0

[sub_resource type="BoxShape3D" id="BoxShape3D_rfadf"]
size = Vector3(1.07222, 2.14136, 3.7161)

[sub_resource type="NavigationMesh" id="NavigationMesh_sdkmd"]
vertices = PackedVector3Array(49.5, 0.491848, -43.5, 49.5, 0.491848, -49.5, 43.25, 0.491848, -49.5, -43.5, 0.491848, -49.5, -49.5, 0.491848, -49.5, -49.5, 0.491848, -41, 40, 0.491848, 49.5, 49.5, 0.491848, 49.5, 49.5, 0.491848, 43.25, 49.5, 0.491848, -37.25, 49.5, 0.491848, -43.5, 43.25, 0.491848, -49.5, 37, 0.491848, -49.5, -37.25, 0.491848, -49.5, -43.5, 0.491848, -49.5, -49.5, 0.491848, -41, 40, 0.491848, 49.5, 49.5, 0.491848, 43.25, 49.5, 0.491848, 37, 49.5, 0.491848, -6.25, 49.5, 0.491848, -12.5, 12.25, 0.491848, -49.5, 6, 0.491848, -49.5, -31, 0.491848, -49.5, -37.25, 0.491848, -49.5, -49.5, 0.491848, -41, 40, 0.491848, 49.5, 49.5, 0.491848, 37, 49.5, 0.491848, 30.75, 49.5, 0.491848, -31, 49.5, 0.491848, -37.25, 37, 0.491848, -49.5, 30.75, 0.491848, -49.5, -49.5, 0.491848, 10.5, -49.5, 0.491848, 19.25, -28.5, 0.491848, 19.25, -24.5, 0.491848, 15.75, -31, 0.491848, -49.5, -49.5, 0.491848, -41, -49.5, 0.491848, -32.5, -24.75, 0.491848, -49.5, -49.5, 0.491848, -24, -49.5, 0.491848, -15.25, -23, 0.491848, 16, 21, 0.491848, 49.5, 30.5, 0.491848, 49.5, 49.5, 0.491848, 12.25, 49.5, 0.491848, 6, 40, 0.491848, 49.5, 49.5, 0.491848, 30.75, 49.5, 0.491848, 24.75, -49.5, 0.491848, 10.5, -24.5, 0.491848, 15.75, -23, 0.491848, 16, -49.5, 0.491848, 2, -25, 0.491848, 22, -26, 0.491848, 22.25, -26, 0.491848, 49.5, -25, 0.491848, 22, -26, 0.491848, 49.5, -16.75, 0.491848, 49.5, -21.5, 0.491848, 19.25, 49.5, 0.491848, -12.5, 49.5, 0.491848, -18.75, 18.5, 0.491848, -49.5, 12.25, 0.491848, -49.5, 21, 0.491848, 49.5, 49.5, 0.491848, 6, 49.5, 0.491848, 0, -6.25, 0.491848, -49.5, -12.5, 0.491848, -49.5, -49.5, 0.491848, -24, 49.5, 0.491848, -31, 30.75, 0.491848, -49.5, 24.75, 0.491848, -49.5, 49.5, 0.491848, -24.75, 30.5, 0.491848, 49.5, 40, 0.491848, 49.5, 49.5, 0.491848, 24.75, 49.5, 0.491848, 18.5, -21.5, 0.491848, 18, -21.5, 0.491848, 19.25, -16.75, 0.491848, 49.5, -7.25, 0.491848, 49.5, -23, 0.491848, 16, 11.75, 0.491848, 49.5, 21, 0.491848, 49.5, -49.5, 0.491848, -6.75, -49.5, 0.491848, 2, -23, 0.491848, 16, 6, 0.491848, -49.5, 0, 0.491848, -49.5, -49.5, 0.491848, -24, -18.75, 0.491848, -49.5, -24.75, 0.491848, -49.5, -49.5, 0.491848, -32.5, 21, 0.491848, 49.5, 49.5, 0.491848, 0, 49.5, 0.491848, -6.25, 6, 0.491848, -49.5, -49.5, 0.491848, -24, -23, 0.491848, 16, -21.5, 0.491848, 18, -7.25, 0.491848, 49.5, 2.25, 0.491848, 49.5, 49.5, 0.491848, -18.75, 49.5, 0.491848, -24.75, 24.75, 0.491848, -49.5, 18.5, 0.491848, -49.5, -18.75, 0.491848, -49.5, -49.5, 0.491848, -32.5, -49.5, 0.491848, -24, -12.5, 0.491848, -49.5, -49.5, 0.491848, -15.25, -49.5, 0.491848, -6.75, -23, 0.491848, 16, 30.5, 0.491848, 49.5, 49.5, 0.491848, 18.5, 49.5, 0.491848, 12.25, -23, 0.491848, 16, -21.5, 0.491848, 18, 2.25, 0.491848, 49.5, 11.75, 0.491848, 49.5, 0, 0.491848, -49.5, -6.25, 0.491848, -49.5, -49.5, 0.491848, -24, -22.75, 1.49185, 18.75, -23, 1.49185, 17.75, -24.25, 1.49185, 17, -26.5, 1.74185, 18.75, -25.5, 1.74185, 20.75, -49.5, 0.491848, 41.75, -49.5, 0.491848, 49.5, -37.75, 0.491848, 49.5, -49.5, 0.491848, 34.25, -49.5, 0.491848, 41.75, -37.75, 0.491848, 49.5, -28.5, 0.491848, 19.25, -49.5, 0.491848, 19.25, -49.5, 0.491848, 26.75, -27, 0.491848, 21.75, -26, 0.491848, 22.25, -27, 0.491848, 21.75, -49.5, 0.491848, 26.75, -49.5, 0.491848, 34.25, -37.75, 0.491848, 49.5, -26, 0.491848, 49.5)
polygons = [PackedInt32Array(2, 1, 0), PackedInt32Array(5, 4, 3), PackedInt32Array(8, 7, 6), PackedInt32Array(10, 9, 11), PackedInt32Array(11, 9, 12), PackedInt32Array(15, 14, 13), PackedInt32Array(18, 17, 16), PackedInt32Array(20, 19, 21), PackedInt32Array(21, 19, 22), PackedInt32Array(25, 24, 23), PackedInt32Array(28, 27, 26), PackedInt32Array(30, 29, 31), PackedInt32Array(31, 29, 32), PackedInt32Array(35, 34, 36), PackedInt32Array(36, 34, 33), PackedInt32Array(37, 40, 38), PackedInt32Array(38, 40, 39), PackedInt32Array(43, 42, 41), PackedInt32Array(46, 45, 47), PackedInt32Array(47, 45, 44), PackedInt32Array(48, 50, 49), PackedInt32Array(52, 51, 53), PackedInt32Array(53, 51, 54), PackedInt32Array(57, 56, 55), PackedInt32Array(58, 61, 59), PackedInt32Array(59, 61, 60), PackedInt32Array(63, 62, 64), PackedInt32Array(64, 62, 65), PackedInt32Array(68, 67, 66), PackedInt32Array(71, 70, 69), PackedInt32Array(73, 72, 74), PackedInt32Array(74, 72, 75), PackedInt32Array(78, 77, 79), PackedInt32Array(79, 77, 76), PackedInt32Array(81, 80, 82), PackedInt32Array(82, 80, 83), PackedInt32Array(86, 85, 84), PackedInt32Array(89, 88, 87), PackedInt32Array(92, 91, 90), PackedInt32Array(95, 94, 93), PackedInt32Array(97, 96, 98), PackedInt32Array(98, 96, 101), PackedInt32Array(98, 101, 99), PackedInt32Array(99, 101, 100), PackedInt32Array(104, 103, 102), PackedInt32Array(106, 105, 107), PackedInt32Array(107, 105, 108), PackedInt32Array(109, 112, 110), PackedInt32Array(110, 112, 111), PackedInt32Array(115, 114, 113), PackedInt32Array(118, 117, 116), PackedInt32Array(120, 119, 121), PackedInt32Array(121, 119, 122), PackedInt32Array(125, 124, 123), PackedInt32Array(127, 126, 128), PackedInt32Array(128, 126, 129), PackedInt32Array(129, 126, 130), PackedInt32Array(133, 132, 131), PackedInt32Array(135, 134, 136), PackedInt32Array(137, 140, 138), PackedInt32Array(138, 140, 139), PackedInt32Array(142, 141, 143), PackedInt32Array(143, 141, 144), PackedInt32Array(144, 141, 145), PackedInt32Array(145, 141, 146)]

[sub_resource type="BoxShape3D" id="BoxShape3D_5k0no"]
size = Vector3(8.39948, 2.98276, 13.8148)

[sub_resource type="BoxShape3D" id="BoxShape3D_h5tr4"]
size = Vector3(100, 2, 100)

[sub_resource type="PlaneMesh" id="PlaneMesh_36xfx"]
size = Vector2(100, 100)

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_7cydo"]
albedo_color = Color(0.588235, 0.588235, 0.588235, 1)

[node name="Main" type="Node"]
process_mode = 3
script = ExtResource("1_lv6qr")

[node name="CenterCursor" type="CenterContainer" parent="."]
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2

[node name="Cursor" type="TextureRect" parent="CenterCursor"]
layout_mode = 2
texture = SubResource("GradientTexture2D_e4phb")

[node name="Light" type="DirectionalLight3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 0.603208, 0.797584, 0, -0.797584, 0.603208, 0, 14.8447, 0)
light_color = Color(0.929412, 1, 1, 1)
light_energy = 1.121
shadow_enabled = true
script = ExtResource("2_u6pw3")

[node name="WorldEnvironment" type="WorldEnvironment" parent="Light"]
environment = SubResource("Environment_0va2h")

[node name="Player" parent="." instance=ExtResource("1_cgk4e")]

[node name="ComodeDuKoh" type="RigidBody3D" parent="."]
transform = Transform3D(0.979938, 0, 1.10777, 0, 1.479, 0, -1.10777, 0, 0.979938, -10.4469, 5.39555, -22.7199)
physics_material_override = SubResource("PhysicsMaterial_6670c")

[node name="ComodeMesh" type="MeshInstance3D" parent="ComodeDuKoh"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -1.14648, 0)
mesh = ExtResource("2_nwttt")

[node name="ComodeCollision" type="CollisionShape3D" parent="ComodeDuKoh"]
shape = SubResource("BoxShape3D_rfadf")

[node name="NavigationRegion3D" type="NavigationRegion3D" parent="."]
navigation_mesh = SubResource("NavigationMesh_sdkmd")

[node name="LitDeSus" type="RigidBody3D" parent="NavigationRegion3D"]
transform = Transform3D(-0.214081, 0, 0.279419, 0, 0.352002, 0, -0.279419, 0, -0.214081, -22.545, 0.389167, 18.5213)
mass = 0.01

[node name="LitDeSusMesh" type="MeshInstance3D" parent="NavigationRegion3D/LitDeSus"]
transform = Transform3D(1, 0, 5.96046e-08, 0, 1, 0, -5.96046e-08, 0, 1, -0.0971832, -1.12874, -0.116045)
mesh = ExtResource("2_r5ntx")

[node name="LitDeSusCollision" type="CollisionShape3D" parent="NavigationRegion3D/LitDeSus"]
transform = Transform3D(1, 0, 2.98023e-08, 0, 1, 0, -2.98023e-08, 0, 1, 3.13891, 0.385798, -6.02496)
shape = SubResource("BoxShape3D_5k0no")

[node name="Ground" type="StaticBody3D" parent="NavigationRegion3D"]

[node name="GroundCollision" type="CollisionShape3D" parent="NavigationRegion3D/Ground"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -1, 0)
shape = SubResource("BoxShape3D_h5tr4")

[node name="GroundMesh" type="MeshInstance3D" parent="NavigationRegion3D/Ground"]
mesh = SubResource("PlaneMesh_36xfx")
skeleton = NodePath("../GroundCollision")
surface_material_override/0 = SubResource("StandardMaterial3D_7cydo")

[node name="enemy" parent="." instance=ExtResource("7_xp0p1")]
process_mode = 1
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -20.5276, 23.9835, -6.48305)
